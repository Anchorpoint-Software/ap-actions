#Anchorpoint Markup Language
#Predefined Variables: e.g. ${path}
#Environment Variables: e.g. ${MY_VARIABLE}
#Full documentation: https://docs.anchorpoint.app/Actions/Reference

version: "1.0"

action: 
  #Must Have Properties
  name: "Create Video"

  #Optional Properties
  version: 1
  id: "ap::ffmpegCreateVideo"
  category: "examples/ffmpeg"
  type: command
  author: "Anchorpoint Software GmbH"
  description: "Create a video from all files that are sharing the same suffix"

  command: "ffmpeg"
  arguments: -y -pattern_type glob -i ${folder}/*.${suffix} -c:v libx264 -pix_fmt yuv420p ${folder}/${filename}.mp4

  #Where to register this action
  register:
    file: 
      filter: "*.png;*.exr" #Wildcard matching

  #Handle toast messages
  toast:
    success:
      message: "Video successfully created."
    error:
      message: "Error when creating video."

    