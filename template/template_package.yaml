# Anchorpoint Markup Language
# Predefined Variables: e.g. ${path}
# Environment Variables: e.g. ${MY_VARIABLE}
# Full documentation: https://docs.anchorpoint.app/Actions/Reference

version: 1.0
action:
  name: Create from Templates

  version: 1
  id: ap::package::template
  category: automation/template
  type: package
  enable: true
  author: Anchorpoint Software GmbH
  description: Create new file and folder structures from templates
  icon:
    path: folderTemplates.svg

  details: '
    <p>This action is located in the context menus and under each folder and file view.</p>

    <p><b>Open the template dialog</b></p>
    <p><img src = "https://raw.githubusercontent.com/Anchorpoint-Software/ap-actions-data/main/png/template_new01.png" width="400"></p>
    <p>You can open the dialog from the Context menu or via the <b>New</b> button under Folders and Files.</p>
    <p><b>Pick a Template like Assets, Motion Graphics or Shot</b></p>
    <p><img src = "https://raw.githubusercontent.com/Anchorpoint-Software/ap-actions-data/main/png/template_new04.png" width="400"></p>

    <p><b>Enter what is necessary</b></p>

    <p>These text fields are based on tokens (placeholders) in your template. Tokens can be present in folders or file names and will be replaced by your input.  <br>
    <i>[Client]_[Project]_shot[Number]_v001.blend becomes ACME_Commercial_shot0020_v001.blend</i> </p>

    <p>The great thing about this is that you can replace multiple tokens at once. You save the complete renaming of your folders and files.</p>

    <b>What if the template is a project?</b>
    <p><img src = "https://raw.githubusercontent.com/Anchorpoint-Software/ap-actions-data/main/png/template_new05.png" width="400"></p>
    <p>This option is useful if your folder structure represents a complete project and not a part of it. A part can be e.g. a shot, an asset or a level. If the template is a project, Anchorpoint automatically creates an entry in your project list.</p>

    <h2>Use your own templates</h2>
    You can save any file or folder structure as a template by selecting <b>Save as Template</b>. This will open the place where the templates are located in a new tab. Navigate there to customize your tempaltes.
    <p><img src = "https://raw.githubusercontent.com/Anchorpoint-Software/ap-actions-data/main/png/template_new06.png" width="600"></p>

    <h3>Tokens</h3>

    <p>Put tokens in your folders or file names. For each token, an input field is automatically created when the template is loaded. The token is then replaced by the text that was specified in the dialog. The great thing about this is that you can have a token in multiple places e.g. in the folder and file name. All these tokens will be replaced. So you can create a naming convention once and never need to name folders or files again.</p>

    <p><img src = "https://raw.githubusercontent.com/Anchorpoint-Software/ap-actions-data/main/png/template_new07.png" width="300"></p>

    <p>Certain tokens are also converted automatically.</p>

    <ul>
      <li>[Increment] <br> The number of the folder or file <br> e.g. [Increment]_MyProject -> 0010_MyProject</li>
      <li>[YYYYMMDD] <br> Date of today <br> e.g. [YYYYMMDD]_WIP -> 20220414_WIP</li>
    </ul>

    For [YYYYMMDD], variants such as [YYYY], [YYYYMM] or [YYYY-MM-DD] are also possible.
'

  settings: code/template_settings.py
  inputs:
    template_dir: templates

  actions:
    - ap::template::newfile
    - ap::template::newfolder
    - ap::template::save
